{% extends "base.html" %}
{% block title %}Notas - Sistema Escolar{% endblock %}

{% block content %}
<h2>Lançar Nota</h2>
<form method="post" class="row g-3 mb-4">
  <div class="col-md-4">
    <label class="form-label">Estudante</label>
    <select name="id_estudante" class="form-select" required>
      <option value="">Selecione...</option>
      {% for e in estudantes %}
      <option value="{{ e.id }}">{{ e.nome }} ({{ e.matricula }})</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-md-4">
    <label class="form-label">Disciplina</label>
    <input type="text" name="disciplina" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label class="form-label">Nota</label>
    <input type="number" step="0.01" name="nota" class="form-control" required>
  </div>
  <div class="col-12">
    <button type="submit" class="btn btn-primary">Salvar Nota</button>
  </div>
</form>

<h3>Notas lançadas</h3>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>#</th>
      <th>Estudante</th>
      <th>Disciplina</th>
      <th>Nota</th>
    </tr>
  </thead>
  <tbody>
  {% for g in notas %}
    <tr>
      <td>{{ g.id }}</td>
      <td>{{ g.nome }}</td>
      <td>{{ g.disciplina }}</td>
      <td>{{ "%.2f"|format(g.nota) }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
